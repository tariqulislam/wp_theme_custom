/*

 * jQuery Super Carousel Plugin v2.9

 * Copyright (C) 2014 Taraprasad Swain

 * Author URL: http://www.taraprasad.com

 * Plugin URL: http://www.taraprasad.com/supercarousel

*/

!function(e){e.fn.supercarousel=function(i){var t,s,n=this,l=e(this),o=!1,r=0,a=!1,d=1,c=0,f=e.fn.supercarousel,u=f.defaults,p=0,h=0,v={},g={},b=function(){s=e.extend({},u,i),t&&(t.width()<=s.mobileWidth?(s.mobileVisible>0&&(s.visible=s.mobileVisible),s.mobileItemWidth>0&&(s.itemWidth=s.mobileItemWidth),s.mobileItemHeight>0&&(s.itemHeight=s.mobileItemHeight)):t.width()<=s.tabletWidth&&(s.tabletVisible>0&&(s.visible=s.tabletVisible),s.tabletItemWidth>0&&(s.itemWidth=s.tabletItemWidth),s.tabletItemHeight>0&&(s.itemHeight=s.tabletItemHeight)))},w=function(){if(l.wrap('<div class="supercarousel_wrapper"></div>').css({display:"block",visibility:"visible"}),t=l.parent()){var e=l.html();l.prepend(e),l.append(e),p=l.children().length/3,b(),C(),y(),s.onload(l),t.height(800),H(),x(),setTimeout(function(){x()},500)}},y=function(){l.find(">div a").click(function(i){e(i.target).hasClass("superswipe")&&i.preventDefault()})},C=function(){if(t){var e=W(1e5,999999),i=l.find(">div").length/3;l.find(">div:lt("+i+") a.superlight").attr("class","blk superlightx"+e),l.find(">div:gt("+(2*i-1)+") a.superlight").attr("class","blk superlighty"+e),l.find(">div a.superlight").attr("class","blk superlight"+e),t.parent().lightGallery({selector:".superlight"+e,loop:!0}),t.parent().lightGallery({selector:".superlightx"+e,loop:!0}),t.parent().lightGallery({selector:".superlighty"+e,loop:!0}),n.resetSwipe()}},W=function(e,i){return Math.floor(Math.random()*(i-e))+e},x=function(){t&&(b(),z(),L(),A(),P(),S(),B(),j(c),l.stop(!0,!0))},H=function(){""!=s.next&&e(s.next).click(function(e){e.preventDefault(),(d-1>c||s.circular)&&j(c+1)}).css({display:"block"}),""!=s.prev&&e(s.prev).click(function(e){e.preventDefault(),(c>0||s.circular)&&j(c-1)}).css({display:"block"}),s.swipe&&n.resetSwipe(),s.keys&&e("body").keyup(function(e){49==e.keyCode?j(0):50==e.keyCode?j(1):51==e.keyCode?j(2):52==e.keyCode?j(3):53==e.keyCode?j(4):54==e.keyCode?j(5):55==e.keyCode?j(6):56==e.keyCode?j(7):57==e.keyCode?j(8):58==e.keyCode?j(9):37==e.keyCode?j(c-1):39==e.keyCode?j(c+1):38==e.keyCode?j(c-1):40==e.keyCode&&j(c+1)}),s.mouseWheel&&t.bind("mousewheel",function(e,i){t.ismouseover()&&(j(i>0?c-1:c+1),e.preventDefault())})},T=function(e){var i=c,t=-G(i)-e;if(e>0){for(;-G(i)>t&&(!(i>=d)||s.circular);)i++;if(i>=d&&!s.circular)return d-1}else{for(;-G(i)<t&&(!(0>=i)||s.circular);)i--;if(0>=i&&!s.circular)return 0}return i};n.resetSwipe=function(){t.swipe("destroy"),s.swipe&&t.swipe({excludedElements:"button, input, select, textarea, .noSwipe",triggerOnTouchLeave:!0,swipeLeft:function(e,i,t,s,n){},swipeRight:function(e,i,t,s,n){},swipeStatus:function(i,t,n,o){if(null!=n&&0!=o)if("move"!=t||"left"!=n&&"right"!=n){if("cancel"==t)l.animate({left:-G(c)}),I(i);else if("end"==t){var r=G(c);l.position().left;if("right"==n){var f=T(-o);j(c>0||s.circular?f:c)}else if("left"==n){var f=T(o);j(d-1>c||s.circular?f:c)}I(i)}}else{var r=G(c),u=G(d-1),p=G(0);"left"==n?-u>-r-o&&!s.circular?l.stop(!0,!0).css("left",-u):l.stop(!0,!0).css("left",-r-o):"right"==n&&(-r+o>-p&&!s.circular?l.stop(!0,!0).css("left",-p):l.stop(!0,!0).css("left",-r+o)),a&&(clearTimeout(a),a=!1),e(i.target).addClass("superswipe")}},allowPageScroll:"vertical",tap:function(e,i){}})};var I=function(i){a=setTimeout(function(){e(i.target).removeClass("superswipe")},500)},$=function(){if(t&&s.autoscroll){s.effect="slide",("up"==s.direction||"down"==s.direction)&&(s.direction="left");var e,i,n=G(0),o=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),r=-1!=navigator.appVersion.indexOf("Win")?!0:!1,a=1;o&&r&&(a=4),"left"==s.direction?(e=-(2*n),i="-="+s.scrollspeed*a+"px"):(e=-n,n=2*n,l.css({left:-n}),i="+="+s.scrollspeed*a+"px"),M(n,i,e)}},M=function(e,i,n){setTimeout(function(){return o||s.pauseOver&&t.ismouseover()?void M(e,i,n):(l.css({left:i}),Math.abs(n)-Math.abs(e)<t.width()&&(e=G(0),"left"==s.direction?n=-(2*e):(n=-e,e=2*e)),"left"==s.direction?l.position().left<n&&l.css({left:-e}):l.position().left>n&&l.css({left:-e}),void M(e,i,n))},s.scrollinterval)},q=function(){t&&s.auto&&!s.autoscroll&&setInterval(function(){o||(s.pauseOver?t.ismouseover()||V():V())},s.pauseTime)},V=function(){"left"==s.direction||"down"==s.direction?j(c+1):("right"==s.direction||"up"==s.direction)&&j(c-1)},S=function(){if(""!=s.paging)for(e(s.paging).html(""),m=0;m<d;m++){var i=e('<a href="#"><span>'+(m+1)+"</span></a>").click(function(i){i.preventDefault(),j(e(this).index())});e(s.paging).append(i)}},j=function(i){if(!o){if(i>=d&&!s.circular)return void j(0);if(0>i&&!s.circular)return void j(d-1);s.onchange(l,c,d),i!=d-1||s.circular||""==s.next?""!=s.next&&e(s.next).hasClass("disabled")&&e(s.next).removeClass("disabled"):e(s.next).addClass("disabled"),0!=i||s.circular||""==s.prev?""!=s.prev&&e(s.prev).hasClass("disabled")&&e(s.prev).removeClass("disabled"):e(s.prev).addClass("disabled"),c=i,"slide"==s.effect?"left"==s.direction||"right"==s.direction?E():("up"==s.direction||"down"==s.direction)&&D():"focus"==s.effect?O():"fade"==s.effect&&Q(),""!=s.paging&&e(s.paging).find(">a:eq("+c+")").length>0&&(e(s.paging).find(">a").removeClass("selected"),e(s.paging).find(">a:eq("+c+")").addClass("selected"))}},G=function(e){var i;if(!t)return 0;if(s.step>0){var n=e*s.step+p;0>n?n=0:n>l.find(">div").length-1&&(n=p),i=l.find(">div:eq("+n+")").position().left}else i=e*t.outerWidth(!1),i+=h;if(!s.circular){var o=-2*h+t.outerWidth(!1);o>-i&&(i=-o)}var o=-2*h,r=-1*h+t.outerWidth(!1);return o>=-i?(i=-o,c=0):-i>=r&&0>c&&(i=-r,c=d-1),i},Q=function(){var e=G(c);o=!0;var i=l.clone().css({position:"absolute",display:"none",zIndex:0,left:-e,top:l.position().top}).appendTo(t);i.fadeIn(s.easingTime,s.easing,function(){l.css({left:-e}),i.remove(),o=!1;var s=-2*h,n=-1*h+t.outerWidth(!1);s>=-e?l.css({left:-e+h}):-e>=n&&l.css({left:-e-h})})},D=function(){var e=G(c);if(o=!0,"up"==s.direction)if(-e<l.position().left)var i=1;else var i=-1;else if("down"==s.direction)if(-e<l.position().left)var i=-1;else var i=1;var n=l.clone().css({position:"absolute",zIndex:0,left:-e,top:l.position().top+t.outerHeight(!0)*i}).appendTo(t);n.stop(!0,!0).animate({top:l.position().top},s.easingTime,s.easing,function(){l.css({left:-e}),n.remove(),o=!1;var i=-2*h,s=-1*h+t.outerWidth(!1);i>=-e?l.css({left:-e+h}):-e>=s&&l.css({left:-e-h})})},O=function(){var e=G(c),i=c*s.step+p;l.find(">div").removeClass("focus"),l.find(">div:eq("+i+")").addClass("focus"),l.find(">div:eq("+(i+p)+")").addClass("focus"),l.find(">div:eq("+(i-p)+")").addClass("focus");var n=l.find(">div:eq("+i+")").width()/2-t.width()/2;e+=n,o=!0,l.stop(!0,!0).animate({left:-e},s.easingTime,s.easing,function(){o=!1;var i=-2*h-n,s=-1*h-n+t.outerWidth(!1);i>=-e?l.css({left:-e+h}):-e>=s&&l.css({left:-e-h})}),B()},E=function(){var e=G(c);o=!0,l.stop(!0,!0).animate({left:-e},s.easingTime,s.easing,function(){o=!1;var i=-2*h,s=-1*h+t.outerWidth(!1);i>=-e?l.css({left:-e+h}):-e>=s&&l.css({left:-e-h})}),B()},z=function(){s.step>p&&(s.step=p),s.visible&&(s.step>s.visible||0==s.step)&&(s.step=s.visible)},L=function(){l.removeClass("superfixheight"),s.visible?(v={width:_(),height:"auto"},g={width:"100%",height:"auto"}):""!=s.itemWidth?(v={width:s.itemWidth,height:"auto"},g={width:"100%",height:"auto"}):""!=s.itemHeight&&(v={width:"auto",height:s.itemHeight},g={width:"auto",height:"100%"},l.addClass("superfixheight")),l.find(">div").css(v),R()},P=function(){if($t=l.find(">div:last"),h=($t.position().left+$t.outerWidth(!1))/3,!t)return 0;if(s.step>0){if(s.visible&&1==s.visible)return void(d=p);if(s.visible&&s.visible>1)return d=(p-(s.visible-s.step))/s.step,void(1>d&&(d=1));d=1;for(var e=-1*G(d-1),i=-2*h+t.outerWidth(!1);e>i;)d++,e=-1*G(d-1);return;var e,i}else d=Math.ceil(h/t.outerWidth(!1))},A=function(){l.find(">div").each(function(){$ele=e(this),""!=s.itemHeight&&"image"==s.type&&$ele.width($ele.find(".imgslide").width()),$ele.prev().length?$ele.css({left:$ele.prev().position().left+$ele.prev().outerWidth(!1)+s.slideGap}):$ele.css({left:0})})},B=function(){if(s.autoHeight&&s.step>0){var e,i=c*s.step+p;if(s.visible)e=l.find(">div").slice(i,i+s.visible).superMaxHeightElement().height();else if(s.itemWidth){var n=Math.ceil(t.width()/s.itemWidth);e=l.find(">div").slice(i,i+n).superMaxHeightElement().height()}else e=l.find(">div:eq("+i+")").height();return void t.stop(!0,!0).animate({height:e},700,"swing",function(){})}var o=0;for(k=p;k<2*p;k++)i=l.children(":eq("+k+")"),i.height()>o&&(o=i.height());t&&t.height(o)},R=function(){"image"==s.type&&l.find("img").css(g)},_=function(){return t?Math.ceil((t.width()-(s.visible-1)*s.slideGap)/s.visible):0},F=function(){setTimeout(function(){x()},500)},J=function(){setInterval(function(){t.parent().is(":visible")?1==r&&(F(),r=0):r=1},500)},K=function(){s.superhidden&&J()};return e(window).resize(function(){x()}),l.find("img").length?l.imagesLoaded(function(){w(),q(),$(),K()}):(w(),q(),$(),K()),n};var i=e.fn.supercarousel;i.defaults={direction:"left",effect:"slide",itemWidth:"",itemHeight:"",slideGap:5,mobileVisible:1,tabletVisible:2,mobileWidth:480,tabletWidth:768,step:1,type:"content",auto:!1,autoscroll:!1,scrollspeed:1,scrollinterval:10,autoHeight:!1,easing:"swing",easingTime:700,pauseTime:1e3,pauseOver:!0,next:"",prev:"",paging:"",circular:!1,mouseWheel:!1,swipe:!1,keys:!1,superhidden:!1,onchange:function(e,i,t){},onload:function(e){}}}(jQuery),jQuery.fn.superMaxHeightElement=function(){var e=null,i=0;return this.each(function(){var t=jQuery(this).height();t>i&&(i=t,e=jQuery(this))}),e},jQuery.expr[":"].hiddenByParent=function(e){return jQuery(e).parents("*:not(:visible)").length};